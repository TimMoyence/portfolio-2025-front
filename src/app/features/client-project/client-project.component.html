<app-hero-section [label]="hero.label" [title]="hero.title" [description]="hero.description" [actions]="hero.actions"
  titleLevel="h1" align="center"></app-hero-section>

@for (project of projectsOrdered; track project.key) {
<section class="px-[5%] py-12 md:py-18 lg:py-22" [ngClass]="project.theme === 'scheme' ? 'bg-scheme-background' : ''"
  data-testid="projects-section">
  <div class="container">
    <!-- header -->
    <div class="mx-auto mb-4 w-full max-w-2xl text-center md:mb-8 lg:mb-12">
      <div class="flex  flex-col items-center justify-center">
        <p class="mb-1 font-semibold md:mb-2">{{ project.label }}</p>
        <h2 class="font-heading md:heading-h3 md:text-h3 text-4 heading-h4 mb-2 md:mb-3 lg:whitespace-nowrap">{{
          project.title }}</h2>
        <p class="md:text-md whitespace-pre-line">{{ project.description }}</p>
      </div>

      @if (project.actions?.length) {
      <div class="mt-2 flex flex-wrap items-center justify-center gap-4 md:mt-4">
        @for (action of project.actions; track $index) {
        <a href="{{ action.href }}"
          class="rounded-2xl button px-5 py-2 text-sm font-semibold transition-colors duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"
          [ngClass]="{
                  'bg-background-secondary text-black border border-border-primary': action.variant === 'secondary',
                  'bg-transparent border border-transparent text-black underline underline-offset-2': action.variant === 'ghost',
                  'bg-black text-white border border-black': !action.variant
                }">
          {{ action.label }}
        </a>
        }
      </div>
      }
    </div>

    <!-- content -->
    @if (project.kind === 'singleCard') {
    <div
      class="rounded-2xl md:shadow-xl md:overflow-hidden  grid grid-cols-1 overflow-hidden border border-border-primary bg-neutral-white md:grid-cols-2">
      <div class="flex flex-col justify-center p-3 md:p-5 lg:p-8">
        <p class="mb-2 text-sm font-semibold">{{ project.card.kicker }}</p>
        <h3 class="font-heading md:heading-h3 md:text-h3 text-4 heading-h4 mb-3 md:mb-4">
          {{ project.card.heading }}
        </h3>
        <ul class="mt-4 list-disc space-y-2 pl-5">
          @for (item of project.card.bullets; track $index) {
          <li>{{ item }}</li>
          }
        </ul>
      </div>

      <div class="flex flex-col items-center justify-center bg-neutral-100">
        <img [src]="project.imageSrc" [alt]="project.imageAlt" class=" w-full object-cover" loading="lazy" />
      </div>
    </div>
    }

    @if (project.kind === 'modules') {
    <div class="grid grid-cols-1 gap-8">
      @for (mod of project.modules; track mod.key) {
      <div
        class="rounded-2xl md:shadow-xl md:overflow-hidden grid grid-cols-1 overflow-hidden border border-border-primary bg-neutral-white md:grid-cols-2">
        <div class="order-1 flex flex-col justify-center p-6 md:p-8 lg:p-12"
          [ngClass]="mod.reverse ? 'md:order-2' : ''">
          <p class="mb-2 text-sm font-semibold">{{ mod.moduleLabel }}</p>
          <h3 class="font-heading md:heading-h3 md:text-h3 text-4 heading-h4 mb-5 md:mb-6">{{ mod.title }}</h3>

          <div class="space-y-4 text-sm md:text-base">
            <div>
              <p class="font-semibold">{{ labels.objective }}</p>
              <p class="mt-1">{{ mod.objective }}</p>
            </div>

            <div>
              <p class="font-semibold">{{ labels.features }}</p>
              <ul class="mt-2 list-disc space-y-2 pl-5">
                @for (f of mod.features; track $index) {
                <li>{{ f }}</li>
                }
              </ul>
            </div>

            <div>
              <p class="font-semibold">{{ labels.approach }}</p>
              <p class="mt-1">{{ mod.approach }}</p>
            </div>
          </div>
        </div>

        <div class="order-2 flex flex-col items-center justify-center bg-neutral-100"
          [ngClass]="mod.reverse ? 'md:order-1' : ''">
          <img [src]="mod.imageSrc" [alt]="mod.imageAlt" class=" w-full object-cover" loading="lazy" />
        </div>
      </div>
      }
    </div>
    }
  </div>
</section>
}

<app-cta-section></app-cta-section>